set colsep '|'
COLUMN MODE_HELD FORMAT A10
COLUMN LOCK_ID1 FORMAT A15
COLUMN LOCK_ID2 FORMAT A15
COLUMN BLOCKING_OTHERS FORMAT A20
COLUMN USERNAME FORMAT A20

SELECT L.SESSION_ID,V.USERNAME,L.LOCK_TYPE,L.MODE_HELD,L.LOCK_ID1,L.LOCK_ID2, L.BLOCKING_OTHERS
FROM DBA_LOCKS L, V$SESSION V
WHERE V.USERNAME IS NOT NULL AND
L.SESSION_ID=V.SID;