SET COLSEP '|'
COLUMN OWNER FORMAT A20
COLUMN SEGMENT_NAME FORMAT A30
COLUMN SEGMENT_TYPE FORMAT A30
COLUMN TABLESPACE_NAME FORMAT A30
COLUMN FILE_NAME FORMAT A50
COLUMN TOTAL_MB FORMAT 99999999
SET LINESIZE 190

SELECT A.OWNER,A.SEGMENT_NAME,B.FILE_NAME,A.TOTAL_MB
FROM
(SELECT A.OWNER,A.SEGMENT_NAME,A.FILE_ID,SUM(A.BYTES)/1024/1024 TOTAL_MB
FROM DBA_EXTENTS A
WHERE A.OWNER LIKE '&&OWNER'
AND A.SEGMENT_NAME LIKE '&&SEGMENT_NAME'
GROUP BY A.OWNER,A.SEGMENT_NAME,A.FILE_ID) A,DBA_DATA_FILES B
WHERE A.FILE_ID=B.FILE_ID
ORDER BY 1,2,3,4
/

SELECT OWNER,SEGMENT_NAME,SEGMENT_TYPE,TABLESPACE_NAME,BYTES/1024/1024 "SIZE MB"
FROM DBA_SEGMENTS
WHERE OWNER LIKE '&OWNER'
AND SEGMENT_NAME LIKE '&SEGMENT_NAME';

UNDEFINE OWNER;
UNDEFINE SEGMENT_NAME;